"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[9348],{9652:(e,t,s)=>{s.d(t,{t:()=>i});const i={emptyMessage:"No data available",scrollLeft:"Scroll Left",scrollRight:"Scroll Right",selectAllTableRows:"Select All Table Rows",selectTableRow:"Select Table Row",sortAsc:"Sorted Ascending",sortDesc:"Sorted Descending",tableOptions:"Table Options",noColumnSort:"{headerContent}. The table is not currently sorted by this column. Click the column header to sort the table by this column in ascending order",ascendingColumnSort:"{headerContent}. The table is currently sorted by this column in ascending order. Click the column header to sort the table by this column in descending order",descendingColumnSort:"{headerContent}. The table is currently sorted by this column in descending order. Click the column header to sort the table by this column in ascending order",descendingColumnSortIncludeUnsorted:"{headerContent}. The table is currently sorted by this column in descending order. Click the column header to not sort the table by this column"}},9348:(e,t,s)=>{s.r(t),s.d(t,{gux_table_beta:()=>c});var i=s(7442),l=s(4219),n=s(2874),o=s(3130),r=s(9014),a=s(9652);const c=class{constructor(e){(0,i.r)(this,e),this.guxselectionchanged=(0,i.c)(this,"guxselectionchanged",7),this.guxsortchanged=(0,i.c)(this,"guxsortchanged",7),this.slotObserver=new MutationObserver((()=>{(0,i.f)(this),this.prepareSelectableRows()})),this.tableId=(0,o.r)("gux-table"),this.columnsWidths={},this.tableWidth=this.getElementComputedWidth(this.slottedTable),this.isVerticalScroll=!1,this.isHorizontalScroll=!1,this.isScrolledToFirstCell=!0,this.isScrolledToLastCell=!1,this.columnResizeHover=!1,this.compact=!1,this.objectTable=!1,this.emptyMessage=void 0,this.resizableColumns=void 0}async componentWillLoad(){(0,r.t)(this.root),this.i18n=await(0,l.b)(this.root,a.t)}componentDidLoad(){this.resizableColumns&&this.prepareResizableColumns(),this.prepareSelectableRows(),this.checkHorizontalScroll(),this.checkVerticalScroll(),!this.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{(0,i.d)((()=>{this.checkHorizontalScroll(),this.checkVerticalScroll(),this.updateScrollState(),this.scaleColumnWidths()}))}))),this.resizeObserver&&(this.resizeObserver.observe(this.tableContainer),this.resizeObserver.observe(this.slottedTable)),this.slotObserver.observe(this.slottedTable,{subtree:!0,childList:!0})}disconnectedCallback(){this.resizeObserver&&(this.resizeObserver.unobserve(this.tableContainer),this.resizeObserver.unobserve(this.slottedTable)),this.resizableColumns&&document.getElementById("".concat(this.tableId,"-resizable-styles")).remove()}onScroll(){this.updateScrollState()}onInternalAllRowSelectChange(e){e.stopPropagation(),this.handleSelectAllRows()}onInternalRowSelectChange(e){e.stopPropagation(),this.handleRowSelection(e.target)}onMouseMove(e){this.resizableColumns&&this.updateResizeState(e)}onMouseDown(e){this.resizableColumns&&this.maybeStartResizing(e)}onMouseUp(){this.resizableColumns&&this.stopResizing()}get tableContainer(){return this.root.shadowRoot.querySelector(".gux-table-container")}get slottedTable(){return this.root.querySelector('table[slot="data"]')}get tableRows(){return Array.from(this.slottedTable.querySelectorAll("tbody tr"))}get tableColumns(){return Array.from(this.slottedTable.querySelectorAll("thead th"))}get rowCheckboxes(){return Array.from(this.slottedTable.querySelectorAll("tbody tr td gux-row-select"))}get selectAllCheckbox(){return this.slottedTable.querySelector("thead tr th gux-all-row-select")}async getSelected(){return this.getSelectedInternal()}getSelectedInternal(){return{selectedRowIds:Array.from(this.rowCheckboxes).filter((e=>e.selected)).map((e=>e.closest("tr").getAttribute("data-row-id")))}}prepareSelectableRows(){this.rowCheckboxes.forEach((e=>{this.updateRowSelection(e)})),this.updateSelectAllBoxState()}updateSelectAllBoxState(){const e=this.selectAllCheckbox;if(e){const t=this.rowCheckboxes,s=t.filter((e=>!e.disabled)),i=s.filter((e=>e.selected)),l=Boolean(t.length),n=i.length===s.length,o=0===i.length;e.selected=l&&n,e.setIndeterminate(l&&!n&&!o)}}handleSelectAllRows(){const e=this.selectAllCheckbox;this.rowCheckboxes.forEach((t=>{t.disabled||(t.selected=e.selected,this.updateRowSelection(t))})),this.emitSelectionEvent()}handleRowSelection(e){this.updateRowSelection(e),this.updateSelectAllBoxState(),this.emitSelectionEvent()}emitSelectionEvent(){this.guxselectionchanged.emit(this.getSelectedInternal())}updateRowSelection(e){const t=e.closest("tr");e.selected?t.setAttribute("data-selected-row",""):t.removeAttribute("data-selected-row")}nextColumn(){const e=this.tableColumns,t=this.tableContainer.getBoundingClientRect();let s=(e.find((e=>e.getBoundingClientRect().right>t.right))||e[e.length-1]).getBoundingClientRect().right-t.right;s>t.width&&(s=.9*t.width),this.tableContainer.scrollLeft+=Math.ceil(s),this.updateScrollState()}previousColumn(){const e=this.tableColumns,t=this.tableContainer.getBoundingClientRect(),s=(e.reverse().find((e=>e.getBoundingClientRect().left<t.left))||e[0]).getBoundingClientRect();let i=t.left-s.left;i>t.width&&(i=.9*t.width),this.tableContainer.scrollLeft+=-Math.ceil(i),this.updateScrollState()}updateScrollState(){const e=this.tableContainer.scrollLeft,t=this.tableContainer.scrollWidth-this.tableContainer.clientWidth;this.isScrolledToFirstCell=0===e,this.isScrolledToLastCell=t-e-this.tableScrollbarConstant<=0}checkHorizontalScroll(){const e=this.slottedTable.getBoundingClientRect().width,t=this.root.getBoundingClientRect().width;this.isHorizontalScroll=e>t}checkVerticalScroll(){const e=this.tableContainer;this.isVerticalScroll=e.scrollHeight>e.clientHeight}get tableScrollbarConstant(){const e=this.tableContainer;return e?e.offsetWidth-e.clientWidth:0}prepareResizableColumns(){const e=document.createElement("style");e.id="".concat(this.tableId,"-resizable-styles"),document.querySelector("head").appendChild(e);const t=this.calculateColumnWidths(this.tableColumns);this.tableWidth=this.getElementComputedWidth(this.slottedTable),t.slice(0,-1).forEach((e=>this.columnsWidths[e.name]=e.width)),this.setResizableColumnsStyles()}scaleColumnWidths(){if(!this.columnResizeState&&this.resizableColumns&&!this.isHorizontalScroll){const e=this.calculateColumnWidths(this.tableColumns),t=this.tableWidth,s=this.getElementComputedWidth(this.slottedTable);e.map((e=>Object.assign(Object.assign({},e),{width:this.calcScaledColWidth(e.width,t,s)}))).slice(0,-1).forEach((e=>this.columnsWidths[e.name]=e.width)),this.tableWidth=s,this.setResizableColumnsStyles()}}calcScaledColWidth(e,t,s){const i=Math.round(e/t*s);return Math.max(i,1)}updateResizeState(e){if(this.columnResizeState){const t=1,s=this.columnResizeState.resizableColumn.dataset.columnName,i=e.pageX-this.columnResizeState.columnResizeMouseStartX,l=this.columnResizeState.resizableColumnInitialWidth+i,n=Math.max(l,t),o=this.calculateColumnWidths(this.tableColumns).map((e=>e.name===s?Object.assign(Object.assign({},e),{width:n}):e));this.columnsWidths[s]=o.find((e=>e.name===s)).width,this.setResizableColumnsStyles(),this.tableWidth=this.getElementComputedWidth(this.slottedTable)}else this.columnResizeHover=!1,(0,n.w)("th",e,(t=>{!(this.tableColumns.length-1===t.cellIndex)&&this.isInResizeZone(e,t)&&(this.columnResizeHover=!0)}))}maybeStartResizing(e){(0,n.w)("th",e,(t=>{if(this.isInResizeZone(e,t)){const s=t;this.columnResizeState={resizableColumn:s,columnResizeMouseStartX:e.pageX,resizableColumnInitialWidth:this.getElementComputedWidth(s)}}}))}stopResizing(){this.columnResizeState&&(this.columnResizeState=null)}isInResizeZone(e,t){return t.getBoundingClientRect().right-e.clientX<3}getElementComputedWidth(e){return e.clientWidth-parseInt(window.getComputedStyle(e).paddingLeft)-parseInt(window.getComputedStyle(e).paddingRight)}calculateColumnWidths(e){return e.map((e=>({name:e.dataset.columnName,width:this.getElementComputedWidth(e)})))}setResizableColumnsStyles(){const e=document.getElementById("".concat(this.tableId,"-resizable-styles"));let t="";Object.keys(this.columnsWidths).forEach((e=>{t+="[gs-table-id=".concat(this.tableId,'] th[data-column-name="').concat(e,'"]{\n        width:').concat(String(this.columnsWidths[e]),"px;\n        min-width:").concat(String(this.columnsWidths[e]),"px;\n      }")})),e.innerHTML=t}get isTableEmpty(){return!this.root.children[0]||this.tableRows.length<1}get tableContainerClasses(){return{"gux-table-container":!0,"gux-column-resizing":Boolean(this.columnResizeState),"gux-column-resizing-hover":this.columnResizeHover}}render(){return(0,i.h)(i.H,{"gs-table-id":this.tableId,"gs-v-scroll":this.isVerticalScroll,"gs-h-scroll":this.isHorizontalScroll,"gs-obj-table":this.objectTable,"gs-compact":this.compact},(0,i.h)("div",{class:"gux-table"},(0,i.h)("div",{tabindex:this.isVerticalScroll?"0":"-1",id:this.tableId,class:this.tableContainerClasses},(0,i.h)("slot",{name:"data"})),this.isHorizontalScroll&&(0,i.h)("gux-button-slot-beta",{accent:"secondary"},(0,i.h)("button",{class:"gux-table-scroll-left",disabled:this.isScrolledToFirstCell,onClick:!this.isScrolledToFirstCell&&this.previousColumn.bind(this)},(0,i.h)("gux-icon",{"icon-name":"chevron-left","screenreader-text":this.i18n("scrollLeft")}))),this.isHorizontalScroll&&(0,i.h)("gux-button-slot-beta",{accent:"secondary",style:{marginRight:"".concat(this.tableScrollbarConstant,"px")}},(0,i.h)("button",{class:"gux-table-scroll-right",disabled:this.isScrolledToLastCell,style:{marginRight:"".concat(this.tableScrollbarConstant,"px")},onClick:!this.isScrolledToLastCell&&this.nextColumn.bind(this)},(0,i.h)("gux-icon",{"icon-name":"chevron-right","screenreader-text":this.i18n("scrollRight")}))),this.isTableEmpty&&(0,i.h)("div",{class:"gux-empty-table"},this.emptyMessage||this.i18n("emptyMessage"))))}get root(){return(0,i.g)(this)}};c.style=":host{display:block;isolation:isolate}:host .gux-table{position:relative;height:inherit}:host .gux-table .gux-table-scroll-left,:host .gux-table .gux-table-scroll-right{position:absolute;top:0;z-index:1;display:flex;align-items:center;justify-content:center;width:24px;min-width:0;height:40px;padding:0;color:#2e394c;cursor:pointer;border-radius:4px}:host .gux-table .gux-table-scroll-left gux-icon,:host .gux-table .gux-table-scroll-right gux-icon{width:8px;height:8px}:host .gux-table .gux-table-scroll-left{border-top-left-radius:0;border-bottom-left-radius:0}:host .gux-table .gux-table-scroll-right{right:0;border-top-right-radius:0;border-bottom-right-radius:0}:host .gux-table .gux-table-container{width:100%;max-height:100%;overflow-x:hidden;scrollbar-color:rgba(32, 41, 55, 0.24) #fdfdfd;scrollbar-width:thin}:host .gux-table .gux-table-container::-webkit-scrollbar{width:4px}:host .gux-table .gux-table-container::-webkit-scrollbar-track{background:#fdfdfd}:host .gux-table .gux-table-container::-webkit-scrollbar-thumb{background:rgba(32, 41, 55, 0.24)}:host .gux-table .gux-table-container::-webkit-scrollbar-thumb:hover{background:rgba(32, 41, 55, 0.48)}:host .gux-table .gux-table-container.gux-column-resizing-hover,:host .gux-table .gux-table-container.gux-column-resizing{cursor:col-resize}:host .gux-empty-table{display:flex;align-items:center;justify-content:center;height:calc(100% - 40px);min-height:150px;color:#596373;background:#fdfdfd;font-family:Roboto, sans-serif;font-weight:400;font-weight:300;font-size:18px;line-height:24px}"},3130:(e,t,s)=>{function i(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gux","-").concat(Math.random().toString(36).substr(2,10))}s.d(t,{r:()=>i})},9014:(e,t,s)=>{s.d(t,{t:()=>c});const i={name:"genesys-spark-components",version:"3.133.0",description:"Common webcomponents",license:"MIT",main:"dist/stencil-wrapper.js",files:["dist/"],scripts:{build:"npm run clean && npm run i18n && npm run generate-gux-icon-types-file && npm run copy-genesys-spark-utils && npm run stencil && npm run build-wrapper","build-i18n":"./scripts/build-i18n.js","build-wrapper":"./scripts/wrap-stencil.js","check-a11y":"node ./scripts/check-a11y.js","check-readmes":"./scripts/check-readmes.sh",clean:"rm -r ./dist ./build || true","copy-genesys-spark-utils":"node ./scripts/copy-genesys-spark-utils.mjs","current-version":'cross-var "echo $npm_package_version"',predev:"npm run i18n && npm run generate-gux-icon-types-file ",dev:"npm run stencil.dev",eslint:"eslint --fix .","generate-gux-icon-types-file":"./scripts/generate-gux-icon-types-file.js","generate-region-flags-sprite-file":"./scripts/generate-region-flags-sprite-file.js","generate-start-of-week-file":"./scripts/generate-start-of-week-file.js","generate-versions-file":"./scripts/generate-versions-file.mjs",i18n:"npm run update-en-i18n && npm run build-i18n && npm run generate-start-of-week-file","lint-all":'npm-run-all "stylelint" "eslint" "prettier" "prettier-package-json" "svgo"',"lint-staged":"lint-staged","list-checked-a11y-components":"node scripts/list-checked-a11y-components.js","list-component-tracking":"./scripts/list-component-tracking.js","list-i18n-files":"./scripts/list-i18n-files.js","list-light-dom-components":"./scripts/list-light-dom-components.js","list-shadow-explicitly-set":"./scripts/list-shadow-explicitly-set.js","predev.public":"npm run predev",prepare:"npm run i18n",prettier:"prettier --log-level silent --ignore-unknown --write .","prettier-package-json":"prettier-package-json --write ./package.json",release:"standard-version",stencil:"stencil build --prod","stencil.dev":"stencil build --dev --watch --docs",stylelint:'stylelint --ignore-path .gitignore --fix "**/*.{css,html,less}"',svgo:"svgo -f ./src/components/stable/gux-icon/icons",test:"TZ=UTC stencil test --spec --e2e","test.ci":"TZ=UTC npm run test.ci.spec","test.ci.e2e":"TZ=UTC stencil test --e2e --max-workers=1","test.ci.spec":"TZ=UTC stencil test --spec --max-workers=1","test.e2e":"TZ=UTC stencil test --e2e","test.e2e.update-snapshot":"TZ=UTC stencil test --e2e --updateSnapshot","test.screenshot":"TZ=UTC stencil test --e2e --screenshot","test.unit":"TZ=UTC stencil build dev && stencil test --spec","test.unit.update-snapshot":"TZ=UTC stencil test --spec --updateSnapshot","test.update-snapshot":"TZ=UTC stencil test --spec --e2e --updateSnapshot","test.watch":"TZ=UTC stencil test --spec --e2e --watch","update-en-i18n":"./scripts/update-en-i18n.js","version-sync":"npm version --no-git-tag-version --allow-same-version"},config:{commitizen:{path:"./node_modules/cz-conventional-changelog"}},types:"dist/types/index.d.ts",dependencies:{"@floating-ui/dom":"^1.4.3","@popperjs/core":"^2.11.8","@vvo/tzdb":"^6.108.0","google-libphonenumber":"^3.2.32","intl-messageformat":"^10.3.5","requestanimationframe-timer":"^3.0.3",sortablejs:"^1.15.0","stencil-click-outside":"^1.8.0",vega:"5.22.1","vega-embed":"6.21.2","vega-lite":"5.5.0"},devDependencies:{"@babel/core":"^7.22.8","@babel/preset-env":"^7.22.7","@stencil/core":"^2.22.3","@stencil/less":"^1.0.0","@stencil/react-output-target":"^0.3.1","@stencil/sass":"^3.0.3","@stencil/utils":"0.0.5","@types/google-libphonenumber":"^7.4.23","@types/jest":"^27.5.2","@types/new-relic-browser":"^0.1118.2","@types/puppeteer":"^5.4.7","@types/resize-observer-browser":"^0.1.7","@types/sortablejs":"^1.15.1","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","axe-core":"4.4.2","axe-live":"^1.0.1","cross-var":"^1.1.0",eslint:"^8.44.0","eslint-config-genesys-spark-components":"file:../../shared-configs/eslint-config-genesys-spark-components","eslint-config-prettier":"^8.8.0","file-loader":"^6.2.0","genesys-spark-tokens":"file:../genesys-spark-tokens",glob:"^10.3.0",handlebars:"^4.7.7",inquirer:"^9.2.7",jest:"^27.5.1","jest-cli":"^27.5.1","jest-config":"^27.5.1","jest-environment-node":"^27.5.1","jest-junit":"^13.2.0","jest-silent-reporter":"^0.5.0",jsdom:"^22.1.0","lint-staged":"^13.2.3",marked:"^4.3.0","mutation-observer":"^1.0.3","node-fetch":"^3.3.1","npm-run-all":"^4.1.5","postcss-html":"^1.5.0","postcss-less":"^6.0.0",prettier:"^3.0.0","prettier-config-genesys-spark-components":"file:../../shared-configs/prettier-config-genesys-spark-components","prettier-package-json":"^2.8.0",puppeteer:"^14.4.1","rollup-plugin-copy":"^3.4.0","semver-sort":"^1.0.0","spritesheet-templates":"^10.5.2",spritesmith:"^3.4.1","standard-version":"^9.5.0",stylelint:"^15.10.1","stylelint-config-genesys-spark-components":"file:../../shared-configs/stylelint-config-genesys-spark-components","stylelint-config-html":"^1.1.0","stylelint-config-recess-order":"^4.3.0","stylelint-config-standard":"^34.0.0",svgo:"^3.0.2","ts-loader":"^9.4.4",typescript:"^4.9.4",weekstart:"^2.0.0",xmldom:"^0.6.0"},publishConfig:{registry:"https://registry.npmjs.org/"},collection:"dist/collection/collection-manifest.json",prettier:"prettier-config-genesys-spark-components","standard-version":{skip:{tag:!0}},volta:{node:"16.18.0"}},l=20,n=3e4,o=[function(e){const[t,s,...i]=e.split(".");return{name:"spark-library",metadata:{fullVersion:"".concat(t,".").concat(s,".").concat(i.join(".")),majorVersion:t,minorVersion:"".concat(t,".").concat(s)}}}(i.version)];function r(){const e=window.newrelic;if(e){for(let t=0;t<l;t++){if(0==o.length)return void setTimeout(r,n);const t=o.shift();e.addPageAction(t.name,Object.assign(Object.assign({},t.metadata),{queueDepth:o.length}))}setTimeout(r,n)}}let a=!1;function c(e,t){window.newrelic&&(a||(a=!0,r()),document.contains(e)&&o.push({name:"spark-component",metadata:Object.assign(Object.assign({},t),{component:e.tagName.toLowerCase(),version:i.version})}))}},2874:(e,t,s)=>{function i(e,t,s){const i=t.currentTarget;let l=t.target;for(;l!==i&&null!==l;){if(l.matches(e))return s(l);l=l.parentElement}return null}s.d(t,{w:()=>i})}}]);
//# sourceMappingURL=9348.6f63a5d7.chunk.js.map