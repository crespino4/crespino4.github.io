"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[4293],{2274:(e,t,r)=>{function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return isNaN(e)?NaN:Math.min(Math.max(e,t),r)}r.d(t,{c:()=>o})},4293:(e,t,r)=>{r.r(t),r.d(t,{gux_column_manager_item:()=>s});var o=r(7442),n=r(4219),i=r(4141);const a={activateReordering:"Activate reordering mode for {columnName} column"},s=class{constructor(e){(0,o.r)(this,e),this.internal_order_change=(0,o.c)(this,"internal_order_change",7),this.internal_keyboard_reorder_start=(0,o.c)(this,"internal_keyboard_reorder_start",7),this.internal_keyboard_reorder_move=(0,o.c)(this,"internal_keyboard_reorder_move",7),this.internal_keyboard_reorder_emit=(0,o.c)(this,"internal_keyboard_reorder_emit",7),this.internal_keyboard_reorder_finish=(0,o.c)(this,"internal_keyboard_reorder_finish",7),this.orderId=void 0,this.highlightActive=void 0,this.highlight=void 0,this.text=void 0,this.pendingReorder="none",this.isDragging=!1,this.isReordering=!1}async guxSetHighlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.highlight=e,this.highlightActive=t}async guxFocus(){this.reorderButtonElement.focus()}onBlur(){this.setReorderMode(!1)}onDragStart(e){this.isDragging=!0;const t=(0,i.c)(this.root);e.dataTransfer.setData("oldIndex",String(t)),e.dataTransfer.effectAllowed="move"}onDragEnter(e){e.dataTransfer.dropEffect="move",this.pendingReorder=this.mouseOnTopHalf(e)?"above":"below"}onDragOver(e){e.preventDefault(),this.pendingReorder=this.mouseOnTopHalf(e)?"above":"below"}onDragLeave(){this.pendingReorder="none"}onDragEnd(){this.isDragging=!1}onDrop(e){const t=Number(e.dataTransfer.getData("oldIndex")),r=(0,i.c)(this.root);e.stopPropagation(),e.stopImmediatePropagation(),this.pendingReorder="none";const o=function(e,t,r){return e<t?r?t-1:t:r?t:t+1}(t,r,this.mouseOnTopHalf(e));return this.internal_order_change.emit({oldIndex:t,newIndex:o}),!1}mouseOnTopHalf(e){const t=this.root.getBoundingClientRect();return e.clientY-t.top<=(t.bottom-t.top)/2}onSlotChange(){this.text=this.root.querySelector("gux-form-field-checkbox label").textContent}setReorderMode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isReordering!==e&&(this.isReordering=e,e?this.internal_keyboard_reorder_start.emit(this.text):(t&&this.internal_keyboard_reorder_emit.emit(),this.internal_keyboard_reorder_finish.emit()))}toggleReorderMode(){this.setReorderMode(!this.isReordering,!0)}keyboardReorder(e){if(this.isReordering)switch(e.key){case"ArrowUp":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:-1,column:this.text});break;case"ArrowDown":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:1,column:this.text});break;case"Home":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:-1/0,column:this.text});break;case"End":e.preventDefault(),console.log("End"),this.internal_keyboard_reorder_move.emit({delta:1/0,column:this.text});break;case"Escape":e.preventDefault(),this.setReorderMode(!1)}}async componentWillLoad(){this.i18n=await(0,n.b)(this.root,a)}render(){return(0,o.h)(o.H,{draggable:"true"},(0,o.h)("div",{class:{"gux-container":!0,["gux-drop-".concat(this.pendingReorder)]:!0,"gux-dragging":this.isDragging}},(0,o.h)("button",{class:{"gux-reorder":!0,"gux-reordering":this.isReordering},type:"button",onClick:()=>this.toggleReorderMode(),onKeyDown:e=>this.keyboardReorder(e),ref:e=>this.reorderButtonElement=e},(0,o.h)("gux-icon",{"icon-name":"grab-vertical",decorative:!0}),(0,o.h)("span",{class:"gux-sr-only"},this.i18n("activateReordering",{columnName:this.text}))),(0,o.h)("div",{class:"gux-select"},(0,o.h)("slot",{onSlotchange:()=>this.onSlotChange()}),(0,o.h)("gux-text-highlight",{class:{"gux-active":this.highlightActive},highlight:this.highlight,text:this.text,strategy:"contains"}))))}get root(){return(0,o.g)(this)}};s.style=":host([gs-reorder-indicator='above']) .gux-container{border-top-color:#aac9ff}:host([gs-reorder-indicator='below']) .gux-container{border-bottom-color:#aac9ff}.gux-container{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;align-items:center;justify-content:flex-start;margin-bottom:-2px;border-top:2px solid transparent;border-bottom:2px solid transparent}.gux-container.gux-drop-above{border-top-color:#aac9ff}.gux-container.gux-drop-below{border-bottom-color:#aac9ff}.gux-container.gux-dragging{border-top-color:transparent;border-bottom-color:transparent;opacity:0.4}.gux-container .gux-reorder{all:unset;flex:0 1 auto;align-self:auto;order:0;margin-right:4px;color:#596373;cursor:grab;border-radius:4px}.gux-container .gux-reorder.gux-reordering:focus-visible gux-icon{color:#2a60c8}.gux-container .gux-reorder:active{pointer-events:none;cursor:grabbing !important}.gux-container .gux-reorder:hover,.gux-container .gux-reorder:focus-visible{outline:2px solid #aac9ff;outline-offset:0}.gux-container .gux-reorder:hover gux-icon,.gux-container .gux-reorder:focus-visible gux-icon{color:#2a60c8}.gux-container .gux-select{position:relative;flex:1 1 auto;align-self:auto;order:1}.gux-container .gux-select gux-text-highlight{position:absolute;top:2px;left:24px;color:transparent;pointer-events:none;opacity:0.25}.gux-container .gux-select gux-text-highlight.gux-active{opacity:1}.gux-sr-only:not(:focus):not(:active){position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);white-space:nowrap}"},4141:(e,t,r)=>{r.d(t,{a:()=>g,b:()=>i,c:()=>d,d:()=>s,e:()=>u,f:()=>l,g:()=>c,h:()=>h,s:()=>a});var o=r(2274),n=r(3035);function i(e,t){let{oldIndex:r,newIndex:o}=t;const n=Array.from(e.children).map((e=>e.orderId)),[i]=n.splice(r,1);return n.splice(o,0,i),n}function a(e,t){let{oldIndex:r,newIndex:o}=t;p(e).forEach(((e,t)=>{if(t!==o)e.removeAttribute("gs-reorder-indicator");else{const t=o<r?"above":"below";e.setAttribute("gs-reorder-indicator",t)}}))}function s(e,t,r){const n=(0,o.c)(t.newIndex+r,0,Array.from(e.children).length-1);return Object.assign({},t,{newIndex:n})}function c(){return{oldIndex:null,newIndex:null}}function d(e){return Array.from(e.parentNode.children).indexOf(e)}function l(e,t){x(e).forEach((e=>{e.checked!==t&&(e.checked=t,(0,n.s)(e,"input"),(0,n.s)(e,"change"))}))}function g(e,t){const{count:r,total:o}=h(e);0===r?(t.indeterminate=!1,t.checked=!1):r===o?(t.indeterminate=!1,t.checked=!0):t.indeterminate=!0}function h(e){const t=x(e).length,r=function(e){const t=x(e);return t.filter((e=>e.checked))}(e).length;return{count:r,total:t}}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return p(e).reduce(((e,o)=>{const n=t.value.toLowerCase();if(n&&o.textContent.toLowerCase().includes(n)){const n=e.matchCount+1;return o.guxSetHighlight(t.value,n===r),{matchCount:n,currentMatch:r}}return o.guxSetHighlight(),e}),{matchCount:0,currentMatch:0})}function x(e){return Array.from(e.querySelectorAll("input[type=checkbox]"))}function p(e){return Array.from(e.querySelectorAll("gux-column-manager-item"))}},3035:(e,t,r)=>{function o(e,t){switch(t){case"change":return e.dispatchEvent(new InputEvent("change",{bubbles:!0}));case"input":return e.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}r.d(t,{s:()=>o})}}]);
//# sourceMappingURL=4293.84be8201.chunk.js.map