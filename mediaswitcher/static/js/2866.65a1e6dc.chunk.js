"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[2866],{2866:(e,t,i)=>{i.r(t),i.d(t,{gux_popup_beta:()=>s});var n=i(7442),a=i(5467);const s=class{constructor(e){(0,n.r)(this,e),this.internalexpanded=(0,n.c)(this,"internalexpanded",7),this.internalcollapsed=(0,n.c)(this,"internalcollapsed",7),this.expanded=!1,this.disabled=!1,this.exceedTargetWidth=!1}runUpdatePosition(){this.cleanupUpdatePosition=(0,a.a)(this.targetElementContainer,this.popupElementContainer,(()=>this.updatePosition()),{ancestorScroll:!0,elementResize:!0,animationFrame:!0,ancestorResize:!0})}updatePosition(){if(this.targetElementContainer&&this.popupElementContainer){const e=this.exceedTargetWidth;(0,a.c)(this.targetElementContainer,this.popupElementContainer,{strategy:"fixed",placement:"bottom-start",middleware:[(0,a.o)(2),(0,a.f)(),(0,a.d)({apply(t){let{rects:i,elements:n}=t;e?Object.assign(n.floating.style,{minWidth:"".concat(i.reference.width,"px")}):Object.assign(n.floating.style,{width:"".concat(i.reference.width,"px"),overflow:"hidden"})}}),(0,a.s)(),(0,a.h)()]}).then((e=>{let{x:t,y:i,middlewareData:n}=e;const{referenceHidden:a}=n.hide;Object.assign(this.popupElementContainer.style,{left:"".concat(t,"px"),top:"".concat(i,"px")}),a?this.popupElementContainer.classList.add("gux-sr-only-clip"):this.popupElementContainer.classList.remove("gux-sr-only-clip")}))}}onExpandedChange(e){e?this.internalexpanded.emit():this.internalcollapsed.emit()}componentDidLoad(){this.expanded&&this.runUpdatePosition()}componentDidUpdate(){this.expanded?this.runUpdatePosition():this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}disconnectedCallback(){this.cleanupUpdatePosition&&this.cleanupUpdatePosition()}render(){return(0,n.h)("div",{class:{"gux-target-container":!0,"gux-disabled":this.disabled},ref:e=>this.targetElementContainer=e},(0,n.h)("slot",{name:"target"}),(0,n.h)("div",{class:{"gux-popup-container":!0,"gux-expanded":this.expanded&&!this.disabled},ref:e=>this.popupElementContainer=e},(0,n.h)("slot",{name:"popup"})))}static get watchers(){return{expanded:["onExpandedChange"]}}};s.style=".gux-target-container.gux-disabled{pointer-events:none;cursor:default;opacity:0.5}.gux-popup-container{position:fixed;z-index:var(--gux-zindex-popup, 1);width:max-content;visibility:hidden}.gux-popup-container.gux-expanded{visibility:visible}.gux-sr-only-clip:not(:focus):not(:active){position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);white-space:nowrap}"}}]);
//# sourceMappingURL=2866.65a1e6dc.chunk.js.map