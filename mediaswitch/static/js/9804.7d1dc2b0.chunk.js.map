{"version":3,"file":"static/js/9804.7d1dc2b0.chunk.js","mappings":"2MAQA,MAiCA,EAjCuBA,KACnB,MAAMC,GAAWC,EAAAA,EAAAA,MA6BjB,OA3BAC,EAAAA,EAAAA,YAAU,KACN,IAAKF,EAASG,MAEV,YADAC,SAAS,KAIb,IAAIC,EAAY,CACZC,YAAaN,EAASG,MAAMG,YAC5BC,MAAOP,EAASG,MAAMI,OAE1BC,QAAQC,IAAI,4BACZ,MAAMC,EAAkB,CACpBC,cAAe,QACfC,UAAWC,EAAAA,EAAOC,UAAUC,SAASf,EAASG,MAAMG,aACpDU,aAAa,GAADC,OAAKC,OAAOlB,SAASmB,SAAQ,MAAAF,OAAKC,OAAOlB,SAASoB,MAC9DjB,MAAOkB,KAAKC,UAAUjB,IAGpBkB,EAAQC,OAAOC,KAAKf,GAAiBgB,KAAIC,GAAC,GAAAV,OAAOW,mBAAmBD,GAAE,KAAAV,OAAIW,mBAAmBlB,EAAgBiB,OAAOE,KAAK,KAC/HrB,QAAQC,IAAI,0BAADQ,OAA2BM,IAEtC,MAAMO,GAAiBC,EAAAA,EAAAA,IAAe,qBAAqB,EAAMC,gBAC3DC,EAAsD,kBAApBH,GAAgCA,EAAeI,OAAOC,OAAS,EAAIL,EAAeI,OAAS,GAC7HE,EAAI,iBAAAnB,OAAoBgB,EAAuB,qBAAAhB,OAAoBM,GACzEL,OAAOlB,SAAWoC,CAAI,GACvB,KAEKC,EAAAA,EAAAA,KAACC,EAAAA,SAAQ,GAAY,C","sources":["components/login/purecloud/PureCloudLogin.js"],"sourcesContent":["import './PureCloudLogin.css';\nimport config from '../../../config';\n\nimport React, { useEffect, Fragment } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { getStorageItem } from 'services/applicationStorage';\n\nconst PureCloudLogin = () => {\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!location.state) {\n            navigate('/')\n            return;\n        }\n        //Get the session data which has been passed through\n        let stateJSON = {\n            environment: location.state.environment,\n            debug: location.state.debug\n        }\n        console.log('PureCloudLogin component');\n        const queryStringData = {\n            response_type: 'token',\n            client_id: config.purecloud.clientId[location.state.environment],\n            redirect_uri: `${window.location.protocol}//${window.location.host}`,\n            state: JSON.stringify(stateJSON)\n        };\n\n        const param = Object.keys(queryStringData).map(k => `${encodeURIComponent(k)}=${encodeURIComponent(queryStringData[k])}`).join('&');\n        console.log(`Authorization request: ${param}`);\n\n        const envFromSession = getStorageItem('purecloud-csp-env', true, sessionStorage);\n        const envFromSessionSanitized = typeof (envFromSession) === 'string' && envFromSession.trim().length > 0 ? envFromSession.trim() : '';\n        const href = `https://login.${envFromSessionSanitized}/oauth/authorize?${param}`;\n        window.location = href;\n    }, [])\n\n    return (<Fragment></Fragment>);\n};\n\nexport default PureCloudLogin;\n"],"names":["PureCloudLogin","location","useLocation","useEffect","state","navigate","stateJSON","environment","debug","console","log","queryStringData","response_type","client_id","config","purecloud","clientId","redirect_uri","concat","window","protocol","host","JSON","stringify","param","Object","keys","map","k","encodeURIComponent","join","envFromSession","getStorageItem","sessionStorage","envFromSessionSanitized","trim","length","href","_jsx","Fragment"],"sourceRoot":""}