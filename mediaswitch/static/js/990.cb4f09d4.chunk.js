"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[990],{8741:(e,t,r)=>{function n(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}function a(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}r.d(t,{a:()=>a,b:()=>n})},990:(e,t,r)=>{r.r(t),r.d(t,{gux_month_calendar:()=>u});var n=r(7442),a=r(4219),o=r(3035),i=r(8741),s=r(4366);const h={changeYear:"Current year is {currentYear}, Click to change year to {changeYear}"},u=class{constructor(e){(0,n.r)(this,e),this.value=void 0,this.min=void 0,this.max=void 0,this.year=void 0,this.locale=void 0}onValueUpdate(e){const{year:t}=(0,s.g)(e);this.year=t}async guxFocus(e){e=e||(0,s.b)();const{year:t}=(0,s.g)(e);this.year=t,(0,i.b)((()=>{const t=this.root.shadowRoot.querySelector('gux-month-list-item[value="'.concat(e,'"]'));t&&t.focus()}))}async componentWillLoad(){this.i18n=await(0,a.b)(this.root,h),this.locale=(0,a.g)(this.root),this.value?this.year=(0,s.g)(this.value).year:this.year=(0,s.g)((0,s.b)()).year}updateValue(e){this.value=e,(0,o.s)(this.root,"input"),(0,o.s)(this.root,"change")}isOutOfBounds(e){return this.max&&this.max<e||this.min&&this.min>e}onMonthClick(e){this.isOutOfBounds(e)||this.updateValue(e)}getMonthAriaLabel(e){const{year:t,month:r}=(0,s.g)(e);return new Date(Number(t),Number(r)-1).toLocaleDateString(this.locale,{year:"numeric",month:"long"})}getYearLabel(e){return new Date(Number(e),5).toLocaleDateString(this.locale,{year:"numeric"})}isSelectedMonth(e){return e===this.value}isAriaSelectedMonth(e){return!!this.isSelectedMonth(e)&&"true"}changeYear(e){this.year=(parseInt(this.year)+e).toString()}isPreviousYearLessThanMinYear(e,t){return(parseInt(e)-1).toString()<(t&&(0,s.g)(t).year)}isNextYearGreaterThanMaxYear(e,t){return(parseInt(e)+1).toString()>(t&&(0,s.g)(t).year)}getMonthShortName(e,t){return new Date(Number(e),Number(t)-1).toLocaleDateString(this.locale,{month:"short"})}doFocusTrap(){this.previousYearElement.disabled||this.previousYearElement.focus(),this.nextYearElement.disabled||this.nextYearElement.focus(),this.monthListElement.focus()}renderHeader(){return(0,n.h)("div",{class:"gux-year-header"},(0,n.h)("button",{type:"button",class:"gux-year-change",onClick:()=>this.changeYear(-1),disabled:this.isPreviousYearLessThanMinYear(this.year,this.min),ref:e=>this.previousYearElement=e},(0,n.h)("gux-icon",{"icon-name":"chevron-small-left","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)-1})})),(0,n.h)("div",{class:"gux-year"},this.getYearLabel(this.year)),(0,n.h)("button",{type:"button",class:"gux-year-change",onClick:()=>this.changeYear(1),disabled:this.isNextYearGreaterThanMaxYear(this.year,this.max),ref:e=>this.nextYearElement=e},(0,n.h)("gux-icon",{"icon-name":"chevron-small-right","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)+1})})))}renderMonths(){const e=Array.from(new Array(12),((e,t)=>String(t+1).padStart(2,"0"))).map((e=>{const t=(0,s.a)(this.year,e);return(0,n.h)("gux-month-list-item",{value:t,selected:this.isSelectedMonth(t),"aria-selected":this.isAriaSelectedMonth(t),"aria-label":this.getMonthAriaLabel(t),onClick:()=>this.onMonthClick(t),disabled:this.isOutOfBounds(t)},this.getMonthShortName(this.year,e))}));return(0,n.h)("gux-month-list",{tabIndex:1,ref:e=>this.monthListElement=e},e)}renderTrapFocusEl(){return(0,n.h)("span",{onFocus:()=>this.doFocusTrap(),tabindex:"0"})}render(){return(0,n.h)("div",{class:"gux-month-calendar"},this.renderHeader(),this.renderMonths(),this.renderTrapFocusEl())}static get delegatesFocus(){return!0}get root(){return(0,n.g)(this)}static get watchers(){return{value:["onValueUpdate"]}}};u.style=".gux-month-calendar{flex-wrap:wrap;width:255px;border:1px solid #b4bccb;border-radius:4px;box-shadow:0 2px 4px rgba(32, 41, 55, 0.24)}.gux-month-calendar .gux-year-header{position:relative;display:flex;align-items:center;justify-content:space-between;height:16px;padding:16px;color:#fdfdfd;background-color:#2a60c8;border-top-left-radius:3px;border-top-right-radius:3px}.gux-month-calendar .gux-year-header button{color:#fdfdfd;cursor:pointer;background:none;border:none;outline:none}.gux-month-calendar .gux-year-header button:focus-visible{border-radius:4px;outline:3px solid #aac9ff;outline-offset:1px;box-shadow:0 0 0 1px #fdfdfd}.gux-month-calendar .gux-year-header button.gux-year-change:disabled{cursor:default;opacity:0.5}.gux-month-calendar .gux-year-header button gux-icon{width:16px;height:16px;pointer-events:none}.gux-month-calendar .gux-year-header .gux-year{font-family:Roboto, sans-serif;font-weight:400;font-weight:700}.gux-month-calendar .gux-months{padding:24px;background-color:#fdfdfd}.gux-month-calendar .gux-months button{width:65px;height:50px;margin:2px;text-align:center;cursor:pointer;background:none;border:none;border-radius:4px;outline:none;font-family:Roboto, sans-serif;font-weight:400;font-size:12px;line-height:20px}.gux-month-calendar .gux-months button:focus-visible{outline:3px solid #aac9ff;outline-offset:1px;box-shadow:0 0 0 1px #fdfdfd}.gux-month-calendar .gux-months button.gux-selected,.gux-month-calendar .gux-months button:hover{color:#fdfdfd;background-color:#2a60c8}.gux-month-calendar .gux-months button:disabled{color:#596373;pointer-events:none;background-color:#fdfdfd}"},3035:(e,t,r)=>{function n(e,t){switch(t){case"change":return e.dispatchEvent(new InputEvent("change",{bubbles:!0}));case"input":return e.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}r.d(t,{s:()=>n})},4366:(e,t,r)=>{function n(e,t){return"".concat(e,"-").concat(t)}function a(e){const[t,r]=e.split("-");return{year:t,month:r}}function o(){const e=new Date;return n(e.getFullYear().toString(),(e.getMonth()+1).toString().padStart(2,"0"))}r.d(t,{a:()=>n,b:()=>o,g:()=>a})}}]);
//# sourceMappingURL=990.cb4f09d4.chunk.js.map