"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[7088],{8741:(e,t,n)=>{function o(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}function s(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}n.d(t,{a:()=>s,b:()=>o})},5818:(e,t,n)=>{n.d(t,{h:()=>o,m:()=>s});const o=250;function s(e,t){switch(e.key){case"ArrowUp":e.stopPropagation(),e.preventDefault(),function(e){const t=e.previousElementSibling;t?t.guxFocus():i(e)}(t);break;case"ArrowDown":e.stopPropagation(),e.preventDefault(),function(e){const t=e.nextElementSibling;t?t.guxFocus():u(e)}(t);break;case"ArrowRight":case"ArrowLeft":e.preventDefault();break;case"Home":e.stopPropagation(),e.preventDefault(),u(t);break;case"End":e.stopPropagation(),e.preventDefault(),i(t)}}function u(e){const t=function(e){let t=e;for(;null!==t.previousElementSibling;)t=t.previousElementSibling;return t}(e);t&&t.guxFocus()}function i(e){const t=function(e){let t=e;for(;null!==t.nextElementSibling;)t=t.nextElementSibling;return t}(e);t&&t.guxFocus()}},7088:(e,t,n)=>{n.r(t),n.d(t,{gux_submenu:()=>r});var o=n(7442),s=n(8741),u=n(5818),i=n(1519);const r=class{constructor(e){(0,o.r)(this,e),this.label=void 0,this.isShown=!1}forceUpdate(e){e&&this.popperInstance&&this.popperInstance.update()}async guxFocus(){this.buttonElement.focus()}onKeydown(e){switch((0,u.m)(e,this.root),e.key){case"Enter":e.stopPropagation(),this.hideDelayTimeout=(0,s.a)((()=>{this.focusOnSubmenu()})),this.guxFocus();break;case"ArrowRight":e.stopPropagation(),this.show(),this.hideDelayTimeout=(0,s.a)((()=>{this.focusOnSubmenu()}));break;case"ArrowLeft":case"Escape":this.submenuContentElement.contains(e.target)&&e.stopPropagation(),this.guxFocus()}}onKeyup(e){if(" "===e.key)e.stopPropagation(),this.submenuContentElement.contains(document.activeElement)?this.root.focus():this.hideDelayTimeout=(0,s.a)((()=>{this.focusOnSubmenu()}))}onmouseenter(){this.show()}onMouseleave(){this.hide()}onClick(e){this.submenuContentElement.contains(e.target)?this.hide():e.stopPropagation()}onFocusin(){this.show()}onFocusout(){this.hide()}show(){clearTimeout(this.hideDelayTimeout),this.isShown=!0}hide(){this.isShown&&(this.hideDelayTimeout=setTimeout((()=>{this.isShown=!1}),u.h))}runPopper(){this.popperInstance=(0,i.c)(this.buttonElement,this.submenuElement,{modifiers:[{name:"offset",options:{offset:[-8,0]}},{name:"flip",enabled:!1}],placement:"right-start"})}destroyPopper(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}focusOnSubmenu(){if(this.submenuContentElement.contains(document.activeElement))return;Array.from(this.submenuContentElement.children)[0].guxFocus()}componentDidLoad(){this.runPopper()}disconnectedCallback(){this.destroyPopper()}render(){return(0,o.h)(o.H,null,(0,o.h)("button",{type:"button",class:"gux-submenu-button",role:"menuitem",tabIndex:-1,ref:e=>this.buttonElement=e,"aria-haspopup":"true","aria-expanded":this.isShown.toString()},(0,o.h)("span",{class:"gux-submenu-button-text"},this.label),(0,o.h)("gux-icon",{class:"gux-submenu-open-icon","icon-name":"chevron-small-right",decorative:!0})),(0,o.h)("div",{ref:e=>this.submenuElement=e,class:{"gux-submenu-wrapper":!0,"gux-shown":this.isShown}},(0,o.h)("div",{role:"menu",class:"gux-submenu-content",ref:e=>this.submenuContentElement=e},(0,o.h)("slot",null))))}get root(){return(0,o.g)(this)}static get watchers(){return{isShown:["forceUpdate"]}}};r.style="gux-submenu{display:block;flex:1 1 auto;align-self:auto}gux-submenu .gux-submenu-button{all:unset;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;align-items:center;justify-content:flex-start;width:129px;height:32px;padding:0 12px 0 16px;line-height:32px;color:#2e394c;background-color:#fdfdfd}gux-submenu .gux-submenu-button:focus-within,gux-submenu .gux-submenu-button:hover{color:#fdfdfd;background-color:#2a60c8}gux-submenu .gux-submenu-button .gux-submenu-button-text{flex:1 1 auto;align-self:auto;order:0;margin-right:12px;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}gux-submenu .gux-submenu-button .gux-submenu-open-icon{flex:0 0 auto;align-self:auto;order:0;width:16px;height:16px}gux-submenu .gux-submenu-wrapper{flex-direction:column;padding:8px 0;visibility:hidden;background-color:#fdfdfd;border:1px solid #b4bccb;border-radius:4px;box-shadow:0 2px 4px rgba(32, 41, 55, 0.24)}gux-submenu .gux-submenu-wrapper.gux-shown{visibility:visible}"}}]);
//# sourceMappingURL=7088.9309fbe3.chunk.js.map