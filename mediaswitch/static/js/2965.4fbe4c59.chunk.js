"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[2965],{2965:(e,t,i)=>{i.r(t),i.d(t,{gux_time_zone_picker_beta:()=>r});var s=i(7442),o=i(4219),n=i(7595),a=i(9014),l=i(3035);const r=class{constructor(e){(0,s.r)(this,e),this.value=void 0,this.workspaceDefault=void 0,this.localDefault=void 0,this.searchString="",this.timeZoneOptionElements=void 0,this.timeZoneList=void 0,this.filteredZoneList=void 0}on(e){this.searchString=e.detail,this.filteredZoneList=this.filterTimeZoneList(this.timeZoneList),this.timeZoneOptionElements=this.renderTimeZones(this.filteredZoneList)}async componentWillLoad(){(0,a.t)(this.root),this.i18n=await(0,o.b)(this.root,n.t),this.timeZoneList=this.getTimeZoneOptionsList(),this.filteredZoneList=this.timeZoneList,this.timeZoneOptionElements=this.renderTimeZones(this.filteredZoneList)}componentDidLoad(){var e;(null===(e=this.root)||void 0===e?void 0:e.shadowRoot.querySelector("gux-dropdown")).addEventListener("change",(e=>{const t=e.target,i=null===t||void 0===t?void 0:t.value;this.value=i,(0,l.s)(this.root,"change")}))}filterTimeZoneList(e){const t=this.searchString;return e.filter((e=>e.displayTextName.toLowerCase().includes(t.toLowerCase())))}getTimeZoneOption(e){const t=this.i18n(e.name);if(!t)return;const i=(0,n.f)(e.currentTimeOffsetInMinutes),s=this.i18n("UTC"),o="".concat(t),a=" (".concat(s).concat(i,")"),l="".concat(a);return{value:e.name,localizedName:t,formattedOffset:i,displayTextName:o,displayTextOffset:a,baseDisplayOffsetText:l}}getTimeZoneOptionsList(){const e=(0,n.g)(),t=[];return e.forEach((e=>{const i=this.getTimeZoneOption(e);i&&t.push(i)})),t.sort(((e,t)=>{var i;return(null===(i=e.displayTextName)||void 0===i?void 0:i.localeCompare(t.displayTextName))||0}))}getDefaultZones(){const e=[];return this.workspaceDefault&&e.push(this.workspaceDefault),this.localDefault&&e.push(this.localDefault),e}getDefaultZoneList(){const e=this.getDefaultZones(),t=this.timeZoneList.reduce(((t,i)=>e.includes(i.value)?t.concat([Object.assign({},i)]):t),[]);return t.forEach((e=>{const i=e.baseDisplayOffsetText;1===t.length&&this.workspaceDefault===this.localDefault?t[0].displayTextOffset="".concat(t[0].displayTextOffset," ").concat(this.i18n("localAndWorkspaceDefault")):e.value===this.workspaceDefault?e.displayTextOffset="".concat(i," ").concat(this.i18n("workspaceDefault")):e.value===this.localDefault&&(e.displayTextOffset="".concat(i," ").concat(this.i18n("localDefault")))})),t}renderTimeZones(e){return e.map((e=>(0,s.h)("gux-option",{value:e.value},e.displayTextName,(0,s.h)("span",{class:"tz-utc"},e.displayTextOffset))))}renderDefaultsList(){const e=this.renderTimeZones(this.getDefaultZoneList());if(e.length)return e}render(){return(0,s.h)("gux-dropdown",{class:{"has-defaults":!!this.workspaceDefault||!!this.localDefault},"filter-type":"custom",placeholder:this.i18n("selectZone"),value:this.value},(0,s.h)("gux-listbox",{"aria-label":this.i18n("timeZones")},(0,s.h)("div",{class:"zone-header"},this.i18n("default")),this.renderDefaultsList(),(0,s.h)("gux-list-divider",null),(0,s.h)("div",{class:"zone-header"},this.i18n("all")),this.timeZoneOptionElements))}get root(){return(0,s.g)(this)}};r.style=".has-defaults gux-option{padding-left:20px}gux-dropdown .zone-header{padding:6px 12px;color:#6b7585;text-transform:uppercase}gux-dropdown .tz-utc{color:#596373}gux-dropdown gux-option.gux-active .tz-utc,gux-dropdown gux-option.gux-hovered:not(:disabled) .tz-utc{color:#e2e6ee}"},3035:(e,t,i)=>{function s(e,t){switch(t){case"change":return e.dispatchEvent(new InputEvent("change",{bubbles:!0}));case"input":return e.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}i.d(t,{s:()=>s})}}]);
//# sourceMappingURL=2965.4fbe4c59.chunk.js.map